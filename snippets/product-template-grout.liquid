{%- liquid
  assign current_variant = product.selected_or_first_available_variant

  unless thumbnail_position
    assign thumbnail_position = 'beside'
  endunless

  assign product_zoom_size = '1800x1800'

  assign enableHistory = true
  if isModal or isAjax
    assign enableHistory = false
  endif

  case image_container_width
    when 'small'
      assign product_image_width = 'medium-up--two-fifths'
      assign product_description_width = 'medium-up--three-fifths'
    when 'medium'
      assign product_image_width = 'medium-up--one-half'
      assign product_description_width = 'medium-up--one-half'
    when 'large'
      assign product_image_width = 'medium-up--three-fifths'
      assign product_description_width = 'medium-up--two-fifths'
  endcase
-%}

{%- liquid
  assign connect_to_sizechart = false

  for block in section.blocks
    if block.type == 'size_chart'
      assign sizechart_index = forloop.index0
      assign next_block_index = sizechart_index | plus: 1

      if section.blocks[next_block_index].type == 'variant_picker' and product.has_only_default_variant == false
        for option in product.options_with_values
          assign size_trigger = 'products.general.size_trigger' | t | downcase
          assign downcased_option = option.name | downcase

          if downcased_option contains size_trigger
            assign connect_to_sizechart = true
          endif
        endfor
      endif

    endif
  endfor
-%}

<div id="ProductSection-{{ section_id }}-{{ product.id }}"
  class="product-section"
  data-section-id="{{ section_id }}"
  data-section-type="product"
  data-product-id="{{ product.id }}"
  data-product-handle="{{ product.handle }}"
  data-product-title="{{ product.title | escape }}"
  data-history="{{ enableHistory }}"
  data-modal="{{ isModal }}">

  {%- render 'product-template-variables', product: product, current_variant: current_variant -%}

  {%- capture product_header -%}
    {%- if settings.show_breadcrumbs and isModal != true -%}
      {%- render 'breadcrumbs' -%}
    {%- endif -%}
    {% assign collectionDetails = product.metafields.custom.collection_url %}
    {% assign product__collection_object = collections[collectionDetails].url %}
    {% assign product__collection_title = collections[collectionDetails].title %}

    
    {%- if collectionDetails -%}

      {% comment %} --> PDP Collection Link {% endcomment %}
      <span><a href="https://www.aquablumosaics.com{{product__collection_object}}" >{{ product__collection_title  }}</a></span>
      {% comment %} <-- PDP Collection Link {% endcomment %}
    {%- endif -%}
    {%- if isModal -%}
      <p class="h2 product-single__title">
        {{ product.title }}
      </p>
    {%- else -%}
      <h1 class="h2 product-single__title">
        {%- unless product.empty? -%}
          {{ product.title }}
        {%- else -%}
          {{ 'home_page.onboarding.product_title' | t }}
        {%- endunless -%}
      </h1>
    {%- endif -%}

    {%- if settings.vendor_enable or sku_enable -%}
      <div class="product-single__vendor-sku">
        {%- if settings.vendor_enable -%}
          <span class="product-single__vendor">
            {%- assign vendor_handle = product.vendor | handleize -%}
            {%- if collections[vendor_handle] != empty -%}
              <a target="_blank" href="{{ routes.collections_url }}/{{ collections[vendor_handle].handle }}">
                {{ collections[vendor_handle].title }}
              </a>
            {%- else -%}
              {{ product.vendor | link_to_vendor }}
            {%- endif -%}
          </span>
        {%- endif -%}

        {% comment %} {%- if product.collections[1] -%}
          <span class="collection-name">{{ product.collections[1].title }}</span>
        {%- endif -%} {% endcomment %}
        {%- if sku_enable -%}
          <span data-sku class="product-single__sku{% if current_variant.sku == blank %} hide{% endif %}">
            SKU: <span data-sku-id>{{ current_variant.sku }}</span>
          </span>
        {%- endif -%}

        <!-- Yotpo Stars based on Sku -->
          <a class="yotpo-link" href="#product-reviews-widget">
            <div class="yotpo-widget-instance" data-yotpo-instance-id="593213" data-yotpo-product-id="{{product.id}}" data-yotpo-cart-product-id="{{item.product.id}}" data-yotpo-section-id="{{template.name}}"></div>
          </a>

      </div>
    {%- endif -%}
  {%- endcapture -%}

  <div class="page-content page-content--product">
    <div class="page-width">

      <div class="product-single__header--mobile medium-up--hide">
        {{ product_header }}
      </div>

      <div class="product-grid__container grid{% unless image_position == 'left' %} grid--product-images-right{% endunless %}{% if mobile_layout == 'partial' %} grid--product-images--partial{% endif %}">
        {%- if image_position == 'left' -%}
          <div class="grid__item {{ product_image_width }} product-single__sticky">
            {%- render 'product-images',
              section_id: section_id,
              product: product,
              isModal: isModal,
              image_position: image_position,
              image_size: image_size,
              product_zoom_enable: product_zoom_enable,
              product_zoom_size: product_zoom_size,
              thumbnail_arrows: thumbnail_arrows,
              thumbnail_position: thumbnail_position,
              video_looping: video_looping,
              video_style: video_style
            -%}
          </div>
        {%- endif -%}

        <div class="product-grid__content product-single__sticky grid__item {{ product_description_width }}">

          <div class="product-single__meta">
            <div class="product-block product-block--header product-single__header small--hide">
              {{ product_header }}
            </div>

            <div data-product-blocks>
              {%- capture form_id -%}AddToCartForm-{{ section_id }}-{{ product.id }}{%- endcapture -%}
              {%- for block in blocks -%}
                {% comment %} --> Add Wish List {% endcomment %}
                {% render 'swym-wishlist-button', block: block, product: product %} 
                {% comment %} <-- Add Wish List {% endcomment %}
                {%- case block.type -%}
                  {%- when '@app' -%}
                    {% render block %}
                  {%- when 'separator' -%}
                    <div class="product-block" {{ block.shopify_attributes }}><hr></div>
                  {%- when 'text' -%}
                    <div class="product-block" {{ block.shopify_attributes }}>
                      {{ block.settings.text }}
                    </div>
                  {%- when 'tab' -%}
                    <div id="product-block-{{ block.id }}" class="product-block product-block--tab" {{ block.shopify_attributes }}>
                      {% assign tab_id = block.id | append: product.id %}
                      {% capture tab_content %}
                        {{ block.settings.content }}
                        {{ block.settings.page.content }}
                      {% endcapture %}
                      {%- render 'tab', id: tab_id, title: block.settings.title, content: tab_content -%}
                    </div>
                  {%- when 'contact' -%}
                    <div id="product-block-{{ block.id }}" class="product-block product-block--tab" {{ block.shopify_attributes }}>
                      {% assign tab_id = block.id | append: product.id %}
                      {%- render 'tab-contact', id: tab_id, block: block -%}
                    </div>
                  {%- when 'icon_area' -%}
                    {% if product.metafields.custom.icon_code_1 %}
                      <div class="product-block product-block--icon-area" {{ block.shopify_attributes }}>
                        <div class="icon-item">
                          {{ product.metafields.custom.icon_code_1  }}
                          {% if product.metafields.custom.icon_show_1 == true %}
                            <div class="icon-item-on icon-check">✓</div>
                          {% elsif product.metafields.custom.icon_show_1 == false %}
                            <div class="icon-item-on icon-cross">✕</div>
                          {%- endif -%}
                        </div>
                        {% if product.metafields.custom.icon_code_2 %}
                          <div class="vl"></div>

                          <div class="icon-item">
                            {{ product.metafields.custom.icon_code_2  }}
                            {% if product.metafields.custom.icon_show_2 == true %}
                              <div class="icon-item-on icon-check">✓</div>
                            {% elsif product.metafields.custom.icon_show_2 == false %}
                              <div class="icon-item-on icon-cross">✕</div>
                            {%- endif -%}
                          </div>
                        {% endif %}
                        {% if product.metafields.custom.icon_code_3 %}

                          <div class="vl"></div>

                          <div class="icon-item">
                            {{ product.metafields.custom.icon_code_3  }}
                            {% if product.metafields.custom.icon_show_3 == true %}
                              <div class="icon-item-on icon-check">✓</div>
                            {% elsif product.metafields.custom.icon_show_3 == false %}
                              <div class="icon-item-on icon-cross">✕</div>
                            {%- endif -%}
                          </div>
                        {% endif %}
                        {% if product.metafields.custom.icon_code_4 %}
                          <div class="vl"></div>
                        
                          <div class="icon-item">
                            {{ product.metafields.custom.icon_code_4  }}
                            {% if product.metafields.custom.icon_show_4 == true %}
                              <div class="icon-item-on icon-check">✓</div>
                            {% elsif product.metafields.custom.icon_show_4 == false %}
                              <div class="icon-item-on icon-cross">✕</div>
                            {%- endif -%}
                          </div>
                        {% endif %}
                        {% if product.metafields.custom.icon_code_5 %}
                          <div class="vl"></div>

                          <div class="icon-item">
                            {{ product.metafields.custom.icon_code_5  }}
                            {% if product.metafields.custom.icon_show_5 == true %}
                              <div class="icon-item-on icon-check">✓</div>
                            {% elsif product.metafields.custom.icon_show_5 == false %}
                              <div class="icon-item-on icon-cross">✕</div>
                            {%- endif -%}
                          </div>
                        {% endif %}
                      </div>  
                    {% endif %}
                  {%- when 'description' -%}
                    <div class="product-block{% if block.settings.is_tab %} product-block--tab{% endif %}" {{ block.shopify_attributes }}>
                      {%- assign id = block.id | append: product.id -%}
                      {%- render 'product-description', id: id, product: product, is_tab: block.settings.is_tab -%}
                    </div>
                  {%- when 'price' -%}

                    {% assign customerDiscount = false %}
                    {% assign discountTotal = 0 %}


                    {% if customer.tags contains "wholesale" or customer.tags contains "Wholesale" %}
                        {% assign customerDiscount = true %}
                        
                        {% assign discountTotal = 0.25 %}
                        {% assign wholesalePriceAmount = current_variant.price | times: discountTotal %}
                        {% assign wholesalePriceTotal = current_variant.price  | minus: wholesalePriceAmount | split: '.'%}
                    {% endif %}

                    {% if customer.tags contains "vip" or customer.tags contains "VIP" %}
                        {% assign customerDiscount = true %}
                        
                        {% assign discountTotal = 0.20 %}
                        {% assign wholesalePriceAmount = current_variant.price | times: discountTotal %}
                        {% assign wholesalePriceTotal = current_variant.price  | minus: wholesalePriceAmount | split: '.'%}
                    {% endif %}

                    {% if customer.tags contains "trade" or customer.tags contains "Trade" %}
                        {% assign customerDiscount = true %}
                        
                        {% assign discountTotal = 0.15 %}
                        {% assign wholesalePriceAmount = current_variant.price | times: discountTotal %}
                        {% assign wholesalePriceTotal = current_variant.price  | minus: wholesalePriceAmount | split: '.'%}
                    {% endif %}

                    <div class="product-block product-block--price" {{ block.shopify_attributes }}  data-discount-rate="{{ discountTotal }}">
                      <label class="variant__label" for="ProductPrice-{{ section_id }}">
                        {{ 'cart.label.price' | t }}
                      </label>
                      {% if current_variant.compare_at_price > current_variant.price %} 

                        {%- assign hide_sale_price = true -%}
                        {%- if product.compare_at_price_max > product.price -%}
                          {%- if current_variant.compare_at_price > current_variant.price -%}
                            {%- assign hide_sale_price = false -%}
                          {%- endif -%}
                          <span
                            data-a11y-price
                            class="visually-hidden"
                            aria-hidden="{{ hide_sale_price }}">
                              {{ 'products.general.regular_price' | t }}
                          </span>
                          <span  class="product__price{% if current_variant.compare_at_price > current_variant.price %} product__price-savings{% endif %}">
                            {% if sq_ft %}
                              {% assign per_sq_ft = product.price_max | divided_by: sq_ft %}
                              <span {% if current_variant.title contains 'Sample' %}style="display:none;"{% endif %}>
                                <span data-sq-ft-price="{{per_sq_ft | round}}" class="product__price product__price-savings">
                                  {%- render 'price' with per_sq_ft -%}
                                </span> 
                                per {{sq_ft_type | downcase}}
                              </span>
                            {% endif %}
                          
                           </span>
                          <span data-product-price
                            class="product__price{% if current_variant.compare_at_price > current_variant.price %} on-sale {% endif %}"> | &nbsp; 
                            {%- unless product.empty? -%}
                              {%- render 'price' with current_variant.price -%}
                            {%- else -%}
                              {%- render 'price' with 1999 -%}
                            {%- endunless -%}

                            per sheet
                          </span>
                          
                          <span data-product-price-wrap style="display:block;" class="{% if hide_sale_price %} hide{% endif %}">
                            <span data-compare-price class="product__price product__price--compare">
                              {%- if current_variant.compare_at_price > current_variant.price -%}
                                {%- render 'price' with current_variant.compare_at_price -%}
                              {%- endif -%}
                            </span>
                          </span>
                          <span data-compare-price-a11y class="visually-hidden">{{ 'products.general.sale_price' | t }}</span>
                        {%- else -%}
                          <span id="PriceA11y-{{ section_id }}" class="visually-hidden">{{ 'products.general.regular_price' | t }}</span>
                        {%- endif -%}

                    

                        {%- if settings.product_save_amount -%}
                          {%- if settings.product_save_type == 'dollar' -%}
                            {%- capture saved_amount -%}{{ current_variant.compare_at_price | minus: current_variant.price | money_without_trailing_zeros }}{%- endcapture -%}
                          {%- else -%}
                            {%- capture saved_amount -%}{{ current_variant.compare_at_price | minus: current_variant.price | times: 100.0 | divided_by: current_variant.compare_at_price | round }}%{%- endcapture -%}
                          {%- endif -%}
                          <span data-save-price style="display:none;" class="product__price-savings{% if hide_sale_price %} hide{% endif %}">
                            {%- unless hide_sale_price -%}
                              {{ 'products.general.save_html' | t: saved_amount: saved_amount }}
                            {%- endunless -%}
                          </span>
                        {%- endif -%}

                        <div data-unit-price-wrapper class="product__unit-price{% unless current_variant.unit_price_measurement %} hide{% endunless %}">
                          {%- capture unit_price_base_unit -%}
                            <span data-unit-base>
                              {%- if current_variant.unit_price_measurement -%}
                                {%- if current_variant.unit_price_measurement.reference_value != 1 -%}
                                  {{ current_variant.unit_price_measurement.reference_value }}
                                {%- endif -%}
                                {{ current_variant.unit_price_measurement.reference_unit }}
                              {%- endif -%}
                            </span>
                          {%- endcapture -%}

                          <span data-unit-price>
                            {%- render 'price' with current_variant.unit_price -%}
                          </span>/{{ unit_price_base_unit }}
                        </div>
                        {%- if current_variant.price > 29900 and current_variant.weight_in_unit < 120 -%}
                          <span class="shipping-option">
                            <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-truck" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-miterlimit:10;stroke-width:2px}</style></defs><path class="a" d="M16.5 43.22H6.88V16.5h33.14v26.72H23.94M45.42 43.22h-5.4V30.4h17.1v12.82h-4.23M57.12 30.4l-6.41-8.56H40.02"></path><circle class="a" cx="20.24" cy="43.76" r="3.74"></circle><path class="a" d="M45.42 43.23a3.82 3.82 0 1 1 0 .37v-.37"></path></svg>
                            <span> This item ships FREE!</span>
                          </span>
                        {%- endif -%}

                      {% else %}
                          {%- assign hide_sale_price = true -%}
                          {%- if product.compare_at_price_max > product.price -%}
                            {%- if current_variant.compare_at_price > current_variant.price -%}
                              {%- assign hide_sale_price = false -%}
                            {%- endif -%}
                            <span
                              data-a11y-price
                              class="visually-hidden"
                              aria-hidden="{{ hide_sale_price }}">
                                {{ 'products.general.regular_price' | t }}
                            </span>
                            <span data-product-price-wrap class="{% if hide_sale_price %} hide{% endif %}">
                              <span data-compare-price class="product__price product__price--compare">
                                {%- if current_variant.compare_at_price > current_variant.price -%}
                                  {%- render 'price' with current_variant.compare_at_price -%}
                                {%- endif -%}
                              </span>
                            </span>
                            <span data-compare-price-a11y class="visually-hidden">{{ 'products.general.sale_price' | t }}</span>
                          {%- else -%}
                            <span id="PriceA11y-{{ section_id }}" class="visually-hidden">{{ 'products.general.regular_price' | t }}</span>
                          {%- endif -%}

                          {% comment %} <h2> {{sq_ft}} </h2> {% endcomment %}
                          
                          {% if sq_ft %}
                            {% assign per_sq_ft = product.price_max | divided_by: sq_ft %}
                            <span {% if current_variant.title contains 'Sample' %}style="display:none;"{% endif %}>
                              <span data-sq-ft-price="{{per_sq_ft | round}}" class="product__price">
                               {%- render 'price' with per_sq_ft -%}
                              </span> 
                              per {{sq_ft_type | downcase}} | 
                            </span>
                          {% endif %}

                          



                          {% if customerDiscount %}
                            {% assign discounterPrice = wholesalePriceTotal[0] %}
                            <p style="display:block;" class="product__price  {% if customerDiscount %} wholesale-price {% endif %} {% if customerDiscount %} grid-product__price--savings {% endif %}"> 
                              {%- render 'price' with discounterPrice -%} 
                            </p>

                            <span data-product-price
                              class="product__price{% if current_variant.compare_at_price > current_variant.price %} on-sale{% endif %} chewck-price" style="text-decoration: line-through;">
                              {%- unless product.empty? -%}
                                {%- render 'price' with current_variant.price -%}
                              {%- else -%}
                                {%- render 'price' with 1999 -%}
                              {%- endunless -%}
                            </span>

                          {% else %}

                            <span data-product-price
                              class="product__price{% if current_variant.compare_at_price > current_variant.price %} on-sale{% endif %} chewck-price">
                              {%- unless product.empty? -%}
                                {%- render 'price' with current_variant.price -%}
                              {%- else -%}
                                {%- render 'price' with 1999 -%}
                              {%- endunless -%}
                            </span>

                          {% endif %}

                 

                          {%- if settings.product_save_amount -%}
                            {%- if settings.product_save_type == 'dollar' -%}
                              {%- capture saved_amount -%}{{ current_variant.compare_at_price | minus: current_variant.price | money_without_trailing_zeros }}{%- endcapture -%}
                            {%- else -%}
                              {%- capture saved_amount -%}{{ current_variant.compare_at_price | minus: current_variant.price | times: 100.0 | divided_by: current_variant.compare_at_price | round }}%{%- endcapture -%}
                            {%- endif -%}
                            <span data-save-price class="product__price-savings{% if hide_sale_price %} hide{% endif %}">
                              {%- unless hide_sale_price -%}
                                {{ 'products.general.save_html' | t: saved_amount: saved_amount }}
                              {%- endunless -%}
                            </span>
                          {%- endif -%}

                          <div data-unit-price-wrapper class="product__unit-price{% unless current_variant.unit_price_measurement %} hide{% endunless %}">
                            {%- capture unit_price_base_unit -%}
                              <span data-unit-base>
                                {%- if current_variant.unit_price_measurement -%}
                                  {%- if current_variant.unit_price_measurement.reference_value != 1 -%}
                                    {{ current_variant.unit_price_measurement.reference_value }}
                                  {%- endif -%}
                                  {{ current_variant.unit_price_measurement.reference_unit }}
                                {%- endif -%}
                              </span>
                            {%- endcapture -%}

                            <span data-unit-price>
                              {%- render 'price' with current_variant.unit_price -%}
                            </span>/{{ unit_price_base_unit }}
                          </div>




                          {%- if current_variant.price > 29900 and current_variant.weight_in_unit < 120 -%}
                            <span class="shipping-option">
                              <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-truck" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-miterlimit:10;stroke-width:2px}</style></defs><path class="a" d="M16.5 43.22H6.88V16.5h33.14v26.72H23.94M45.42 43.22h-5.4V30.4h17.1v12.82h-4.23M57.12 30.4l-6.41-8.56H40.02"></path><circle class="a" cx="20.24" cy="43.76" r="3.74"></circle><path class="a" d="M45.42 43.23a3.82 3.82 0 1 1 0 .37v-.37"></path></svg>
                              <span> This item ships FREE!</span>
                            </span>
                          {%- endif -%}

                  
                      {% endif %}
                    </div>
                  {%- when 'quantity_selector' -%}
                    <div class="product-block quantity-custom" {{ block.shopify_attributes }}>
                      <div class="product__quantity">
                        <label for="Quantity-{{ section_id }}-{{ product.id }}">{{ 'products.product.quantity' | t }}</label>
                        <div class="js-qty__wrapper">
                          <input type="text" id="Quantity-{{ section_id }}-{{ product.id }}"
                            class="js-qty__num"
                            value="1"
                            min="1"
                            aria-label="quantity"
                            pattern="[0-9]*"
                            form="{{ form_id }}"
                            name="quantity">
                          <button type="button"
                            class="js-qty__adjust js-qty__adjust--minus"
                            aria-label="{{ 'cart.general.reduce_quantity' | t }}">
                              <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-minus" viewBox="0 0 64 64"><path class="cls-1" d="M55 32H9"/></svg>
                              <span class="icon__fallback-text" aria-hidden="true">&minus;</span>
                          </button>
                          <button type="button"
                            class="js-qty__adjust js-qty__adjust--plus"
                            aria-label="{{ 'cart.general.increase_quantity' | t }}">
                              <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-plus" viewBox="0 0 64 64"><path class="cls-1" d="M32 9v46m23-23H9"/></svg>
                              <span class="icon__fallback-text" aria-hidden="true">+</span>
                          </button>
                        </div>
                      </div>
                      
                      <button id="grout-form-modal-btn" class="custom-buttons-calculator">
                        <img src="https://cdn.shopify.com/s/files/1/1205/7108/files/calculator.png" alt="calculator icon"> 
                        How much do I need?
                      </button>
                      <button id="contact-form-modal-btn" class="custom-buttons-quote">
                        <svg class="phone-pdp-icon" width="34" height="27" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <g clip-path="url(#clip0_3870_2)">
                          <path d="M61.2999 31.6C61.5999 30 60.9999 28.3 59.6999 27.2C59.0999 12.1 46.6999 0.1 31.4999 0C15.9999 0 3.39995 12.6 3.39995 28.2C3.39995 28.3 3.39995 28.3 3.39995 28.4C2.79995 29.4 2.59995 30.5 2.79995 31.6C0.599948 32.7 -0.500052 35.3 0.299948 37.6L6.49995 54.5C6.89995 55.7 8.09995 56.5 9.29995 56.5C9.39995 56.5 9.49995 56.5 9.59995 56.5L9.89995 57C11.3999 60.1 14.4999 62 17.8999 62H26.0999C26.4999 63.2 27.5999 64 28.8999 64H34.8999C36.5999 64 37.8999 62.7 37.8999 61C37.8999 59.3 36.5999 58 34.8999 58H28.8999C27.5999 58 26.4999 58.8 26.0999 60H17.8999C15.1999 60 12.7999 58.5 11.5999 56.1L11.2999 55.6C12.0999 54.8 12.3999 53.6 11.9999 52.5L11.6999 51.8C12.6999 52.1 13.7999 52.1 14.7999 51.7C16.0999 51.2 17.0999 50.3 17.4999 49C17.9999 47.7 17.9999 46.3 17.3999 45C15.1999 40.1 13.3999 35 11.9999 29.7C11.6999 28.3 10.7999 27.2 9.59995 26.5C9.49995 26.5 9.49995 26.4 9.39995 26.4C10.3999 14.2 21.0999 5 33.3999 6C44.3999 7 53.0999 15.9 53.7999 27C52.8999 27.7 52.2999 28.6 51.9999 29.7C50.5999 35 48.7999 40.1 46.4999 45C45.8999 46.3 45.8999 47.7 46.3999 49C46.8999 50.2 47.8999 51.2 49.0999 51.7C49.5999 51.9 50.1999 52 50.6999 52C52.3999 52 53.8999 51.1 54.7999 49.7C55.8999 50 56.9999 49.9 57.9999 49.4C59.1999 48.9 60.0999 47.9 60.4999 46.6L63.6999 37.6C64.4999 35.3 63.4999 32.7 61.2999 31.6ZM28.9999 60H34.9999C35.5999 60 35.9999 60.4 35.9999 61C35.9999 61.6 35.5999 62 34.9999 62H28.9999C28.3999 62 27.9999 61.6 27.9999 61C27.9999 60.4 28.3999 60 28.9999 60ZM3.19995 33.6C4.49995 38.5 6.19995 43.2 8.29995 47.8C7.79995 47.9 7.29995 47.8 6.89995 47.6C6.19995 47.3 5.69995 46.7 5.49995 46L2.29995 36.9C1.69995 35.7 2.19995 34.4 3.19995 33.6ZM8.29995 53.8L6.69995 49.6C7.09995 49.7 7.49995 49.8 7.89995 49.8C8.19995 49.8 8.49995 49.8 8.89995 49.7L10.0999 53.1C10.2999 53.6 9.99995 54.2 9.49995 54.4C9.09995 54.6 8.49995 54.4 8.29995 53.8ZM10.0999 30.2C11.4999 35.6 13.3999 40.8 15.6999 45.9C16.0999 46.6 16.0999 47.5 15.7999 48.3C15.1999 49.7 13.6999 50.4 12.2999 49.8C11.6999 49.5 11.0999 49.1 10.7999 48.4C8.19995 43 6.19995 37.3 4.79995 31.4C4.49995 30 5.19995 28.6 6.59995 28.1C7.19995 27.9 7.99995 28 8.69995 28.3C9.39995 28.7 9.89995 29.4 10.0999 30.2ZM31.5999 4C18.9999 4 8.49995 13.5 7.39995 26C6.89995 26 6.29995 26.1 5.79995 26.3C5.69995 26.3 5.59995 26.4 5.39995 26.5C6.29995 12.7 17.7999 2 31.4999 2C45.0999 2.1 56.4999 12.5 57.5999 26.1C56.9999 25.9 56.2999 25.9 55.6999 26.1C54.6999 13.6 44.0999 3.9 31.5999 4ZM49.7999 49.8C49.0999 49.5 48.4999 49 48.1999 48.2C47.8999 47.4 47.8999 46.6 48.2999 45.8C50.5999 40.7 52.4999 35.5 53.8999 30.1C54.0999 29.3 54.5999 28.6 55.2999 28.2C55.9999 27.8 56.7999 27.8 57.4999 28.1C58.7999 28.6 59.5999 30 59.2999 31.4C57.8999 37.2 55.8999 42.9 53.2999 48.4C52.5999 49.7 51.0999 50.3 49.7999 49.8ZM61.7999 36.9L58.5999 46C58.3999 46.7 57.7999 47.3 57.0999 47.6C56.6999 47.8 56.1999 47.9 55.6999 47.8C57.7999 43.2 59.4999 38.4 60.7999 33.6C61.7999 34.4 62.2999 35.7 61.7999 36.9Z" fill="black"/>
                          </g>
                          <defs>
                          <clipPath id="clip0_3870_2">
                          <rect width="64" height="64" fill="white"/>
                          </clipPath>
                          </defs>
                        </svg>
                        How Can We Help?
                      </button>
                      
                    </div>
                  {%- when 'size_chart' -%}
                    {% if connect_to_sizechart == false %}
                      {%- capture size_chart_title -%}
                        {{ 'products.general.size_chart' | t }}<svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-size-chart" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M22.39 33.53c-7.46 0-13.5-3.9-13.5-8.72s6-8.72 13.5-8.72 13.5 3.9 13.5 8.72a12 12 0 0 1-.22 1.73"/><ellipse cx="22.39" cy="24.81" rx="3.28" ry="2.12"/><path class="a" d="M8.89 24.81V38.5c0 7.9 6.4 9.41 14.3 9.41h31.92V33.53H22.39M46.78 33.53v7.44M38.65 33.53v7.44M30.52 33.53v7.44M22.39 33.53v7.44"/></svg>
                      {%- endcapture -%}

                      <div class="size-chart__standalone" {{ block.shopify_attributes }}>
                        {%- render 'tool-tip-trigger',
                          title: size_chart_title,
                          content: block.settings.size_chart.content,
                          context: 'size-chart'
                        -%}
                        {% style %}
                          tool-tip-trigger {
                            font-weight: 800;
                          }
                        {% endstyle %}
                      </div>
                    {% endif %}
                  {%- when 'variant_picker' -%}
                    <div class="product-block" {{ block.shopify_attributes }}>
                      {%- unless product.has_only_default_variant -%}
                        {%- for option in product.options_with_values -%}
                          {%- liquid
                            if block.settings.color_swatches
                              assign is_color = false
                              assign color_option_index = 0
                              assign swatch_trigger = 'products.general.color_swatch_trigger' | t | downcase
                              assign color_option_index = forloop.index0
                              assign downcased_option = option.name | downcase
                              if downcased_option contains swatch_trigger
                                assign is_color = true
                              elsif swatch_trigger == 'color' and downcased_option contains 'colour'
                                assign is_color = true
                              endif
                            endif
                          -%}

                          {%- if block.settings.picker_type == 'button' -%}
                            {%- render 'variant-button',
                              block: block,
                              product: product,
                              form_id: form_id,
                              section_id: section_id,
                              option: option,
                              forloop: forloop,
                              variant_labels: block.settings.variant_labels,
                              is_color: is_color,
                              color_option_index: color_option_index,
                              connect_to_sizechart: connect_to_sizechart,
                              sizechart_index: sizechart_index
                            -%}
                          {%- else -%}
                            {%- render 'variant-dropdown',
                              product: product,
                              form_id: form_id,
                              section_id: section_id,
                              option: option,
                              forloop: forloop,
                              variant_labels: block.settings.variant_labels,
                            -%}
                          {%- endif -%}
                        {%- endfor -%}
                      {%- endunless -%}
                    </div>
                  {%- when 'buy_buttons' -%}
                    <div class="product-block product-block-buy-button" {{ block.shopify_attributes }}>
                      {%- unless product.empty? -%}
                        <div class="product-block">
                          {%- render 'product-form',
                            form_id: form_id,
                            product: product,
                            show_dynamic_checkout: block.settings.show_dynamic_checkout,
                            current_variant: current_variant
                          -%}
                        </div>
                      {%- endunless -%}

                      {%- if block.settings.surface_pickup_enable -%}
                        <div
                          data-store-availability-holder
                          data-product-name="{{ product.title | escape }}"
                          data-base-url="{{ shop.url }}{{ routes.root_url }}"
                          ></div>
                      {%- endif -%}
                    </div>
                  {%- when 'sales_point' -%}
                    {%- unless block.settings.text == blank -%}
                      <div class="product-block product-block--sales-point" {{ block.shopify_attributes }}>
                        <ul class="sales-points">
                          <li class="sales-point">
                            <span class="icon-and-text">
                              {% case block.settings.icon %}
                                {% when 'checkmark' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-circle-checkmark" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M52.68 24.48A22 22 0 1 1 47 15.93M21 32l8.5 8.5L57 13"/></svg>
                                {% when 'gift' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-gift" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M9 20.23h46v8.68H9zM13.34 28.91h36.89v24.3H13.34zM27.82 20.66v32.98M35.91 20.88v32.98M20.52 11.43a3.73 3.73 0 0 0-.74 2.87 4.57 4.57 0 0 0 .8 2.27C22 18.09 25.15 20 32 20.23a12 12 0 0 0-2.43-7 7.52 7.52 0 0 0-5.66-3.12 4 4 0 0 0-3.39 1.32z"/><path class="a" d="M43.37 11.43a3.73 3.73 0 0 1 .74 2.87 4.48 4.48 0 0 1-.8 2.27c-1.42 1.52-4.57 3.41-11.42 3.66a12.08 12.08 0 0 1 2.43-7A7.56 7.56 0 0 1 40 10.14a4 4 0 0 1 3.37 1.29z"/></svg>
                                {% when 'globe' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-globe" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><circle class="a" cx="32" cy="32" r="22"/><path class="a" d="M13 21h38M10 32h44M13 43h38M32 10c-12 8-12 37 0 44M32 10c12 8 12 37 0 44"/></svg>
                                {% when 'heart' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-heart" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M51.27 15.05a13 13 0 0 0-18.44 0l-.83.83-.83-.83a13 13 0 0 0-18.44 18.44l.83.83L32 52.77l18.44-18.45.83-.83a13 13 0 0 0 0-18.44z"/></svg>
                                {% when 'leaf' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-leaf" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-miterlimit:10;stroke-width:2px}</style></defs><path class="a" d="M52 11L13 50M35 13v15h16"/><path class="a" d="M52 11c6 24-16.72 47.29-33 32C7 22 29 10 52 11z"/></svg>
                                {% when 'lock' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-lock" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M19.45 23.6v-3.2c0-7 5.89-11.75 12.55-11.75 7.21 0 12.55 5.49 12.55 11.75v3.2M10 23.6h44v31.75H10zM32 37.47v7.47"/><circle class="a" cx="32" cy="35.87" r="1.6"/></svg>
                                {% when 'package' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-package" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M32 54.52L10 41.95v-19.9L32 9.48l22 12.57v19.9L32 54.52z"/><path class="a" d="M32 54.52v-19.9l22-12.57M32 34.62L10 22.05M41.7 15.02L21 28.33v8.38"/></svg>
                                {% when 'phone' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-phone" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M18.4 9.65l10.2 10.2-6.32 6.32c2.1 7 6.89 12.46 15.55 15.55l6.32-6.32 10.2 10.2-8.75 8.75C25.71 50.3 13.83 38.21 9.65 18.4z"/></svg>
                                {% when 'ribbon' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-ribbon" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M28.57 42.31l-8.36 13.07-2.6-7.17-7.61.65 8.35-13.07a17.05 17.05 0 0 0 8.12 5.94 17.3 17.3 0 0 0 1.74.5zM54 48.86l-7.61-.65-2.61 7.17-8.36-13.07.37-.08a16.4 16.4 0 0 0 1.73-.5 17 17 0 0 0 8.12-5.93z"/><path class="a" d="M49 25.64a16.79 16.79 0 0 1-3.14 9.85 3.55 3.55 0 0 1-.23.31 17 17 0 0 1-8.12 5.93 16.4 16.4 0 0 1-1.73.5l-.37.08a16.74 16.74 0 0 1-3.42.35 16.91 16.91 0 0 1-3.43-.35l-.36-.08a17.3 17.3 0 0 1-1.74-.5 17.05 17.05 0 0 1-8.12-5.94c-.07-.09-.15-.19-.22-.3A16.86 16.86 0 0 1 15 25.64a17 17 0 0 1 34 0z"/><path class="a" d="M36.09 27.78l.96 5.63L32 30.75l-5.05 2.66.96-5.63-4.09-3.98 5.65-.82L32 17.86l2.53 5.12 5.64.82-4.08 3.98z"/></svg>
                                {% when 'shield' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-shield" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M21.18 31.69L28.54 39l15.91-15.88"/><path class="a" d="M53 12.54v15.24a31.41 31.41 0 0 1-3.7 14.95A25.46 25.46 0 0 1 32 56a25.46 25.46 0 0 1-17.3-13.27A31.41 31.41 0 0 1 11 27.78V12.54C24.88 13.67 32 8 32 8s7.12 5.67 21 4.54z"/></svg>
                                {% when 'tag' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-tag" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-width:2px}</style></defs><path class="a" d="M46.69 10.34l-10.55.07-25.8 25.8 17.45 17.45 25.8-25.8.07-10.55-6.97-6.97z"/><circle class="a" cx="43.95" cy="20.05" r="3.53"/><path class="a" d="M14.4 32.15L31.85 49.6"/></svg>
                                {% when 'truck' %} <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-truck" viewBox="0 0 64 64"><defs><style>.a{fill:none;stroke:#000;stroke-miterlimit:10;stroke-width:2px}</style></defs><path class="a" d="M16.5 43.22H6.88V16.5h33.14v26.72H23.94M45.42 43.22h-5.4V30.4h17.1v12.82h-4.23M57.12 30.4l-6.41-8.56H40.02"/><circle class="a" cx="20.24" cy="43.76" r="3.74"/><path class="a" d="M45.42 43.23a3.82 3.82 0 1 1 0 .37v-.37"/></svg>
                              {% endcase %}
                              <span>{{ block.settings.text }}</span>
                            </span>
                          </li>
                        </ul>
                      </div>
                    {%- endunless -%}
                  {%- when 'inventory_status' -%}
                    {%- render 'product-inventory', product: product, current_variant: current_variant, block: block -%}
                  {%- when 'share' -%}
                    <div class="product-block" {{ block.shopify_attributes }}>
                      {%- render 'social-sharing', share_title: product.title, share_permalink: product.url, share_image: product -%}
                    </div>
                  {%- when 'trust_badge' -%}
                    <div class="product-block" {{ block.shopify_attributes }}>
                      <div style="max-width: {{ block.settings.trust_image.width }}px; margin: 0 auto;">
                        <div class="image-wrap " style="height: 0; padding-bottom: {{ 100 | divided_by: block.settings.trust_image.aspect_ratio }}%;">
                          {%- assign img_url = block.settings.trust_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                          <img class="lazyload"
                              data-src="{{ img_url }}"
                              data-widths="[360, 540, 700, 1024]"
                              data-aspectratio="{{ block.settings.trust_image.aspect_ratio }}"
                              data-sizes="auto"
                              alt="{{ block.settings.trust_image.alt }}">
                          <noscript>
                            <img class="lazyloaded" src="{{ block.settings.trust_image | img_url: '540x' }}" alt="{{ block.settings.trust_image.alt }}">
                          </noscript>
                        </div>
                      </div>
                    </div>
                  {%- when 'custom' -%}
                    <div class="product-block" {{ block.shopify_attributes }}>
                      {{ block.settings.code }}
                    </div>
                {%- endcase -%}
              {%- else -%}
                <div data-blocks-holder
                     data-url="{{ product.url | within: collection }}"
                     data-template="{{ product.template_suffix }}">
                  <div class="placeholder-content" style="min-height: 86px;"></div>
                </div>
              {%- endfor -%}
            </div>
          </div>
        </div>

        {%- unless image_position == 'left' -%}
          <div class="grid__item {{ product_image_width }} product-single__sticky">
            {%- render 'product-images',
              section_id: section_id,
              product: product,
              isModal: isModal,
              image_position: image_position,
              image_size: image_size,
              product_zoom_size: product_zoom_size,
              thumbnail_arrows: thumbnail_arrows,
              thumbnail_position: thumbnail_position,
              video_looping: video_looping,
              video_style: video_style
            -%}
          </div>
        {%- endunless -%}
      </div>
    </div>
  </div>
</div>

{%- render 'additional-contact' -%}

{% comment %} update variant price on selection{% endcomment %}
{%- if customerDiscount -%}
  {% comment %} Fix To Test: Price on ATC & B2B pricing issue on PDP {% endcomment %}
  {% comment %} {% render 'product-wholesale-discount' %} {% endcomment %}
{%- endif -%}
